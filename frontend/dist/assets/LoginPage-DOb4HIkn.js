import{r as t,u as x,A as j,j as e}from"./index-Cb7XM54e.js";import{a as f}from"./index-DW_MHI2K.js";/* empty css                   */const E=()=>{const[o,u]=t.useState(""),[r,g]=t.useState(""),[n,l]=t.useState(""),m=x(),{login:p}=t.useContext(j),h=async a=>{var i,c,d;a.preventDefault();try{const s=await f.post("http://localhost:3000/login",{email:o,password:r});s.data.jwt?(console.log("Login successful!"),console.log("JWT Token:",s.data.jwt),localStorage.setItem("token",s.data.jwt),localStorage.setItem("email",o),p(s.data.jwt),m("/dashboard")):l(s.data.message||"Login failed")}catch(s){console.error("Error logging in:",((i=s.response)==null?void 0:i.data)||s.message),l(((d=(c=s.response)==null?void 0:c.data)==null?void 0:d.message)||"An error occurred during login")}};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"main-content",children:e.jsxs("div",{className:"form-container",children:[e.jsx("h1",{children:"Login"}),n&&e.jsx("p",{className:"error-message",children:n}),e.jsxs("form",{onSubmit:h,children:[e.jsxs("div",{children:[e.jsx("label",{children:"Email:"}),e.jsx("input",{className:"login-input-field",type:"email",value:o,onChange:a=>u(a.target.value),required:!0,placeholder:"Enter your email"})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Password:"}),e.jsx("input",{className:"login-input-field",type:"password",value:r,onChange:a=>g(a.target.value),required:!0,placeholder:"Type your password"})]}),e.jsx("button",{type:"submit",children:"Login"}),e.jsxs("p",{className:"sign-up-callout",children:["Don't have an account? ",e.jsx("a",{href:"/#/signup",children:"Sign-up!"})]})]})]})})})};export{E as default};
