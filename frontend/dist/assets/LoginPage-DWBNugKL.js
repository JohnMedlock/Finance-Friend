import{r as t,u as x,A as j,j as e}from"./index-DUiHcega.js";import{a as f}from"./index-DW_MHI2K.js";/* empty css                   */const E=()=>{const[r,u]=t.useState(""),[o,g]=t.useState(""),[n,i]=t.useState(""),m=x(),{login:p}=t.useContext(j),h=async a=>{var l,c,d;a.preventDefault();try{const s=await f.post("/login",{email:r,password:o});s.data.jwt?(console.log("Login successful!"),console.log("JWT Token:",s.data.jwt),localStorage.setItem("token",s.data.jwt),localStorage.setItem("email",r),p(s.data.jwt),m("/dashboard")):i(s.data.message||"Login failed")}catch(s){console.error("Error logging in:",((l=s.response)==null?void 0:l.data)||s.message),i(((d=(c=s.response)==null?void 0:c.data)==null?void 0:d.message)||"An error occurred during login")}};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"main-content",children:e.jsxs("div",{className:"form-container",children:[e.jsx("h1",{children:"Login"}),n&&e.jsx("p",{className:"error-message",children:n}),e.jsxs("form",{onSubmit:h,children:[e.jsxs("div",{children:[e.jsx("label",{children:"Email:"}),e.jsx("input",{className:"login-input-field",type:"email",value:r,onChange:a=>u(a.target.value),required:!0,placeholder:"Enter your email"})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Password:"}),e.jsx("input",{className:"login-input-field",type:"password",value:o,onChange:a=>g(a.target.value),required:!0,placeholder:"Type your password"})]}),e.jsx("button",{type:"submit",children:"Login"}),e.jsxs("p",{className:"sign-up-callout",children:["Don't have an account? ",e.jsx("a",{href:"/#/signup",children:"Sign-up!"})]})]})]})})})};export{E as default};
