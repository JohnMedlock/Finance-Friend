import{r as o,j as e}from"./index-BWeVCSI6.js";import{a as p}from"./index-DW_MHI2K.js";const x="http://localhost:3000/api/users/models",I=()=>{const[l,h]=o.useState(""),[i,d]=o.useState(""),[m,u]=o.useState([]),[n,g]=o.useState(null);o.useEffect(()=>{(async()=>{var c;try{const r=localStorage.getItem("token"),s=localStorage.getItem("email");if(!s){console.error("Email is not set in localStorage");return}const t=await p.get(`${x}/get`,{headers:{Authorization:`Bearer ${r}`},params:{email:s}});u(t.data)}catch(r){console.error("Error fetching characters:",((c=r.response)==null?void 0:c.data)||r)}})()},[]);const j=a=>{h(a.target.value)},C=a=>{d(a.target.value)},N=async a=>{var s;a.preventDefault();const c=localStorage.getItem("email");if(!c){console.error("Email is not set in localStorage");return}const r={email:c,modelName:l,link:i};try{const t=localStorage.getItem("token"),v=await p.post(`${x}/add`,r,{headers:{Authorization:`Bearer ${t}`}});u([...m,v.data]),h(""),d("")}catch(t){console.error("Error creating character:",((s=t.response)==null?void 0:s.data)||t)}},f=a=>{g(a)};return e.jsx("div",{className:"ai-character-page",children:e.jsxs("div",{className:"ai-character-container",children:[e.jsx("h1",{children:"Customize Your AI Character"}),e.jsxs("form",{onSubmit:N,className:"ai-character-form",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"character-name",children:"Character Name"}),e.jsx("input",{id:"character-name",placeholder:"Enter the character's name",value:l,onChange:j,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"character-prompt",children:"Character Personality"}),e.jsx("textarea",{id:"character-prompt",placeholder:"Describe how your AI character should act and deliver financial advice...",value:i,onChange:C,rows:"4",required:!0})]}),e.jsx("button",{type:"submit",className:"submit-button",children:"Save Character"})]}),e.jsxs("div",{className:"existing-characters",children:[e.jsx("h2",{children:"Your AI Characters"}),e.jsx("div",{className:"character-list",children:m.map(a=>e.jsxs("div",{className:"character-card",onClick:()=>f(a),children:[e.jsx("h3",{children:a.modelName}),e.jsx("p",{children:a.link})]},a.id))})]}),n&&e.jsxs("div",{className:"selected-character",children:[e.jsx("h2",{children:"Selected Character"}),e.jsx("h3",{children:n.modelName}),e.jsx("p",{children:n.link})]})]})})};export{I as default};
